import{_ as s,o as a,c as n,a as o}from"./app.cf68ed47.js";const _=JSON.parse('{"title":"\u5904\u7406 IO \u963B\u585E\u7684\u64CD\u4F5C","description":"","frontmatter":{},"headers":[{"level":2,"title":"run_in_thread_pool","slug":"run-in-thread-pool","link":"#run-in-thread-pool","children":[]}],"relativePath":"develop/advanced/blockingIO.md","lastUpdated":1683455999000}'),t={name:"develop/advanced/blockingIO.md"},l=o(`<h1 id="\u5904\u7406-io-\u963B\u585E\u7684\u64CD\u4F5C" tabindex="-1">\u5904\u7406 IO \u963B\u585E\u7684\u64CD\u4F5C <a class="header-anchor" href="#\u5904\u7406-io-\u963B\u585E\u7684\u64CD\u4F5C" aria-hidden="true">#</a></h1><p>AmiyaBot \u4E3A\u5F02\u6B65\u7A0B\u5E8F\uFF0C\u4E00\u822C\u60C5\u51B5\u4E0B\u5E94\u8BE5\u9075\u5FAA\u5F02\u6B65\u7F16\u7A0B\u6765\u8FDB\u884C\u5F00\u53D1\u3002\u4F46\u5728\u4F7F\u7528\u4E00\u4E9B\u6807\u51C6\u6216\u7B2C\u4E09\u65B9\u5E93\u65F6\uFF0C\u4E0D\u80FD\u4FDD\u8BC1\u5176\u65B9\u6CD5\u662F\u5F02\u6B65\u7684\uFF0C\u4F7F\u7528 IO \u963B\u585E\u7684\u65B9\u6CD5\u5BB9\u6613\u9020\u6210\u7EBF\u7A0B\u963B\u585E\uFF0C\u5F71\u54CD\u4E1A\u52A1\u903B\u8F91\u3002</p><h2 id="run-in-thread-pool" tabindex="-1">run_in_thread_pool <a class="header-anchor" href="#run-in-thread-pool" aria-hidden="true">#</a></h2><p>AmiyaBot <code>util</code> \u5E93\u91CC\u63D0\u4F9B\u7684\u5229\u7528\u7EBF\u7A0B\u6C60\u5C06\u540C\u6B65\u65B9\u6CD5\u8F6C\u53D8\u4E3A\u5F02\u6B65\u65B9\u6CD5\u6267\u884C\u7684\u51FD\u6570\u3002</p><table><thead><tr><th>\u53C2\u6570\u540D</th><th>\u7C7B\u578B</th><th>\u91CA\u4E49</th><th>\u9ED8\u8BA4\u503C</th></tr></thead><tbody><tr><td>block_func</td><td>Callable</td><td>IO \u963B\u585E\u7684\u65B9\u6CD5</td><td></td></tr><tr><td>*args</td><td></td><td>\u539F\u65B9\u6CD5\u53C2\u6570</td><td></td></tr><tr><td>**kwargs</td><td></td><td>\u539F\u65B9\u6CD5\u5B57\u5178\u53C2\u6570</td><td></td></tr></tbody></table><div class="language-python"><button class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> amiyabot</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">util </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> run_in_thread_pool</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># IO \u963B\u585E\u7684\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#82AAFF;">block_io_method</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">arg1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> arg2</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">arg3</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">xxx</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u8F6C\u53D8\u4E3A\u5F02\u6B65\u6267\u884C</span></span>
<span class="line"><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">run_in_thread_pool</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">block_io_method</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> arg1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> arg2</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">arg3</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">xxx</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div>`,6),p=[l];function e(r,c,d,F,i,D){return a(),n("div",null,p)}const h=s(t,[["render",e]]);export{_ as __pageData,h as default};
